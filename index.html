<!DOCTYPE html>
<html>
<head>
  <title>git trumpmit!</title>

  <script type="text/javascript">
    let messages;

    document.addEventListener('DOMContentLoaded', function(event) {
      fetch('https://raw.githubusercontent.com/thewarpaint/trumpmit/master/data.json')
      .then((response) => {
        response.json().then((data) => {
          messages = data;
          renderRandomMessage();
        });
      });
    });

    function renderRandomMessage() {
      let index = Math.floor(Math.random() * messages.length);
      document.getElementById('console').textContent = getCommitMessage(messages[index]);
    }

    function getCommitMessage(message) {
      return `$ git trumpmit

[master abc123d] ${ message.text }
 666 files changed, 1776 insertions(+), 43 deletions(-)
 create mode 100644 README.md
 mode change 100644 => 100755 trumpmit.py`;
    }
  </script>
</head>
<body>
  <pre id="console"></pre>

  <button type="button" onclick="renderRandomMessage();" style="padding: .5rem .75rem;">Again!</button>
</body>
</html>

